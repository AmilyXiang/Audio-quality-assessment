# 人耳感知阈值 - 科学依据

## 📚 研究背景

本文档说明各类语音质量问题的人耳感知阈值，基于以下标准和研究：

- **ITU-T P.800**: 主观质量评估方法
- **ITU-T P.862**: PESQ（感知语音质量评估）
- **ITU-T G.107**: E-model（通话质量评估模型）
- 声学心理学研究文献

---

## 🎧 各类问题的人耳感知特性

### **1. Dropout（卡顿/断续）⚠️ 最敏感**

**人耳感知阈值：50ms**

**科学依据：**
- 研究表明：**>20ms 的静音即可被人耳察觉**
- ITU-T G.114 建议：丢包导致的间隙 >50ms 会明显影响体验
- 在通话场景中，50-100ms 的静音会导致明显的"卡顿感"

**为什么最敏感？**
- 人耳对**时间连续性**极度敏感
- 语音流中的突然中断会立即引起注意
- 即使短暂的静音也会破坏语义理解

**本工具配置：**
```python
"min_event_duration": {
    "dropout": 0.05,  # 50ms - 最严格
}
```

**实际影响：**
- 20-50ms：轻微可察觉，不影响理解
- 50-100ms：明显卡顿，开始影响体验
- >100ms：严重卡顿，影响语义理解

---

### **2. Noise（噪声）**

**人耳感知阈值：150ms**

**科学依据：**
- **持续性背景噪声**：人耳即使很短时间也能察觉
- **短暂噪声爆发**（如爆音、click）：
  - <50ms：通常被语音掩蔽效应覆盖
  - 50-100ms：开始察觉，但不明显
  - >150ms：明显的噪声干扰

**为什么相对不敏感？**
- 人耳有**噪声适应机制**
- 短暂的噪声会被语音内容"掩蔽"
- 但持续噪声会累积影响

**本工具配置：**
```python
"min_event_duration": {
    "noise": 0.15,  # 150ms
}
```

**实际影响：**
- <50ms：几乎无感知（除非极高能量）
- 50-150ms：轻微察觉
- >150ms：明显噪声，开始干扰
- >500ms：严重影响听觉体验

---

### **3. Volume Fluctuation（音量起伏）**

**人耳感知阈值：250ms**

**科学依据：**
- 人耳对**音量变化相对迟钝**
- ITU-T P.56 研究表明：
  - 音量变化需要 >200ms 才会被明显察觉
  - AGC (自动增益控制) pumping 通常 >300ms 才令人不适

**为什么不敏感？**
- 人耳有**响度适应机制**（约150-300ms时间常数）
- 短暂的音量变化会被大脑"平滑"
- 只有持续的音量波动才会引起注意

**本工具配置：**
```python
"min_event_duration": {
    "volume_fluctuation": 0.25,  # 250ms
}
```

**实际影响：**
- <100ms：基本无感知
- 100-250ms：轻微感知，不影响理解
- >250ms：明显的音量起伏
- >500ms：令人不适的音量波动（AGC问题）

---

### **4. Voice Distortion（变声/失真）**

**人耳感知阈值：120ms**

**科学依据：**
- 人耳对**音色变化高度敏感**
- 但**瞬时的频谱变化**（<100ms）通常不被察觉
- 研究表明：
  - 持续 >100ms 的音色变化会被明显察觉
  - 编码失真、回声消除错误通常持续 >150ms

**为什么相对敏感？**
- 音色是识别说话人的关键
- 频谱异常会让声音听起来"不自然"
- 但短暂的频谱抖动会被掩蔽

**本工具配置：**
```python
"min_event_duration": {
    "voice_distortion": 0.12,  # 120ms
}
```

**实际影响：**
- <50ms：难以察觉（除非极端变化）
- 50-120ms：轻微察觉
- >120ms：明显的音色变化（"机器人声"、"变尖/变闷"）
- >300ms：严重失真，影响理解

---

## 📊 阈值对比表

| 问题类型 | 阈值 | 敏感度 | 典型影响 |
|---------|------|--------|---------|
| **Dropout** | **50ms** | ⭐⭐⭐⭐⭐ 最高 | 立即察觉，破坏连续性 |
| **Distortion** | **120ms** | ⭐⭐⭐⭐ 高 | 明显音色变化 |
| **Noise** | **150ms** | ⭐⭐⭐ 中 | 噪声干扰 |
| **Volume Fluctuation** | **250ms** | ⭐⭐ 低 | 音量起伏 |

---

## 🔬 测试方法（如何验证）

### **实验设计**

如果你想验证这些阈值，可以：

1. **生成测试音频**
   - 创建不同持续时间的问题片段（20ms, 50ms, 100ms, 150ms, ...）
   
2. **盲听测试**
   - 让测试者听音频，标记出察觉到的问题
   
3. **统计分析**
   - 计算50%的人能够察觉的最小时长（JND - Just Noticeable Difference）

### **预期结果**

```python
# 不同持续时间的检出率（估算）
perception_rate = {
    "dropout": {
        20: 0.3,   # 30% 的人能察觉 20ms 静音
        50: 0.7,   # 70% 的人能察觉 50ms 静音
        100: 0.95, # 95% 的人能察觉 100ms 静音
    },
    "noise": {
        50: 0.2,
        150: 0.7,
        300: 0.95,
    },
    # ...
}
```

---

## 🎯 实际应用建议

### **严格模式**（实验室/高质量要求）
```python
"min_event_duration": {
    "dropout": 0.03,            # 30ms - 更敏感
    "voice_distortion": 0.08,   # 80ms
    "noise": 0.10,              # 100ms
    "volume_fluctuation": 0.15, # 150ms
}
```

### **标准模式**（生产环境，默认）
```python
"min_event_duration": {
    "dropout": 0.05,            # 50ms
    "voice_distortion": 0.12,   # 120ms
    "noise": 0.15,              # 150ms
    "volume_fluctuation": 0.25, # 250ms
}
```

### **宽松模式**（嘈杂环境/低端设备）
```python
"min_event_duration": {
    "dropout": 0.10,            # 100ms - 避免误报
    "voice_distortion": 0.20,   # 200ms
    "noise": 0.30,              # 300ms
    "volume_fluctuation": 0.40, # 400ms
}
```

---

## 📖 参考文献

1. **ITU-T Recommendation G.114** (2003)  
   "One-way transmission time"  
   描述了各种时延和中断对通话质量的影响

2. **ITU-T Recommendation P.800** (1996)  
   "Methods for subjective determination of transmission quality"  
   主观质量评估标准方法

3. **ITU-T Recommendation P.862** (2001)  
   "Perceptual evaluation of speech quality (PESQ)"  
   感知语音质量评估算法

4. **Moore, B.C.J.** (2012)  
   "An Introduction to the Psychology of Hearing"  
   听觉心理学经典教材，讲述人耳的时间分辨率

5. **Kleijn, W.B. & Paliwal, K.K.** (1995)  
   "Speech Coding and Synthesis"  
   语音编码中的感知掩蔽效应

---

## 💡 关键洞察

1. **Dropout 是最关键的**
   - 人耳对时间连续性极度敏感
   - 即使很短的静音也会被察觉
   - 需要最严格的检测阈值

2. **音量变化最不敏感**
   - 人耳有自适应机制
   - 只有持续的变化才会引起注意
   - 可以使用较宽松的阈值

3. **噪声和失真居中**
   - 取决于内容和环境
   - 需要平衡检测灵敏度和误报率

4. **实际应用需要权衡**
   - 过严：误报率高（环境干扰被误判）
   - 过宽：漏报率高（真实问题未检测）
   - 建议使用**标准模式**作为起点，根据实际反馈调整

---

**最后更新**：2025年12月16日  
**版本**：1.0 - 基于声学研究和ITU-T标准
